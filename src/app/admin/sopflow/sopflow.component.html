<div class="p-6">
  <h1 class="text-3xl font-bold text-blue-700 mb-6">ðŸš¦ SOP Workflows Dashboard</h1>

  <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
    <mat-card *ngFor="let sop of sops" class="sop-card mat-elevation-z6">
      <mat-card-header>
        <div mat-card-avatar class="sop-avatar">{{ sop.system[0] }}</div>
        <mat-card-title class="text-xl font-semibold">{{ sop.system }} - {{ sop.title }}</mat-card-title>
        <mat-card-subtitle>{{ sop.frsId }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <mat-accordion>
          <mat-expansion-panel *ngFor="let act of sop.activities" class="sop-panel">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <span class="font-medium">{{ act.id }}</span> - {{ act.useCase }}
              </mat-panel-title>
            </mat-expansion-panel-header>

            @if(act.action === 'sms') {
            <mat-panel-description>
              <div class="row">
                <div class="col-md-12">
                  <app-sms-action></app-sms-action>
                </div>
              </div>
            </mat-panel-description>
            }
            @else if(act.action === 'email') {
            <mat-panel-description>
              <div class="row">
                <div class="col-md-12">
                  <app-email-action></app-email-action>
                </div>
              </div>
            </mat-panel-description>
            }
            @else if(act.action === 'api') {
            <mat-panel-description>
              <div class="row">
                <div class="col-md-12">
                  <app-api-action></app-api-action>
                </div>
              </div>
            </mat-panel-description>
            }
          </mat-expansion-panel>
        </mat-accordion>
      </mat-card-content>
    </mat-card>
  </div>
</div>